# Описание
`JScript` для обновления прошивки на кассах [Штрих-М](https://www.shtrih-m.ru) через **драйвер** фискального регистратора. Перед прошивкой скрипт проверяет закрытие смены, модель ККМ и версию текущий прошивки. Скрипт поддерживает обновление через `SD` карту, `COM` и `USB` порт. Так же перед обновлением сохраняются все настройки. После обновления выполняется **технологическое обнуление**, синхронизация времени и восстановление сохранённых настроек. В первую очередь скрипт предназначен для использования в планировщике задач.

# Использование
В командной строке **Windows** введите следующую команду. Если необходимо скрыть отображение окна консоли, то вместо `cscript` можно использовать `wscript`.
```bat
cscript firmware.min.js <image> [<build> [<model>]]
```
- `<image>` - Путь к файлу с прошивкой кассы.
- `<build>` - Номер сборки прошивки в файле (если не совпадает с кассой, то касса обновляется).
- `<model>` - Фильтр по названию модели кассы (если не совпадает, то касса не обновляется).

# Примеры использования

Обновить прошивку любой кассы до сборки `19018`.
```bat
cscript firmware.min.js upd-19018.bin
```
Обновить прошивку любой кассы до сборки `19018`, если сейчас установлена другая прошивка.
```bat
cscript firmware.min.js upd-19018.bin 19018
```
Обновить прошивку кассы `ШТРИХ-ЛАЙТ-01Ф` до сборки `19018` если сейчас установлена другая прошивка.
```bat
cscript firmware.min.js upd-19018.bin 19018 "ШТРИХ-ЛАЙТ-01Ф"
```